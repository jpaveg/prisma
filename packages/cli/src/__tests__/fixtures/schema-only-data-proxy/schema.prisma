generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("PDP_URL")

  // Only necessary due to a bug in schema validation for Studio.
  // The actual direct URL is specified in the config.
  // The bug is probably not worth fixing just for 6.18.0
  // because this code is being removed anyway.
  directUrl = "postgres://not-used"
}

model SomeUser {
  id            String                 @id @default(cuid())
  profileUpdate ProfileUpdateNoAction?
  profileDelete ProfileDeleteNoAction?
  enabled       Boolean?
}

model ProfileUpdateNoAction {
  id      String   @id @default(cuid())
  user    SomeUser @relation(fields: [userId], references: [id], onUpdate: NoAction)
  userId  String   @unique
  enabled Boolean?
}

model ProfileDeleteNoAction {
  id      String   @id @default(cuid())
  user    SomeUser @relation(fields: [userId], references: [id], onDelete: NoAction)
  userId  String   @unique
  enabled Boolean?
}
